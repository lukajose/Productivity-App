(this.webpackJsonplistodo=this.webpackJsonplistodo||[]).push([[0],{135:function(e,t,a){e.exports=a(262)},169:function(e,t,a){},170:function(e,t,a){},262:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(7),i=a.n(s),l=a(65),o=a(78),c=a(32),u=a(57),m=a(40),h=a(66),d=a(36),p=a.n(d),f=a(292),v=a(127),b=a(296),g=a(302),y=a(304),E=a(264),k=a(298),T=a(301),O=a(303),j=a(299),C=a(300),S=a(118),I=a.n(S),w=a(295),x=a(67),A=(a(156),a(157)),N=a(160);p.a.interceptors.request.use((function(e){return"put"!==e.method&&"get"!==e.method&&"post"!==e.method&&"delete"!==e.method||(e.data=A.stringify(e.data)),e})),x.a.configure();p.a.interceptors.response.use((function(e){return e}),(function(e){var t="Invalid action !";return e.response&&(t=N.get(e,"response.data.message")||"Invalid action !"),console.log("error",e.response,"message:",t),x.a.success(t,{position:x.a.POSITION.TOP_CENTER,closeOnClick:!0,closeButton:!0}),Promise.reject(Object(m.a)({},e))}));var _=Object(f.a)((function(e){return{"@global":{body:{backgroundColor:"#00FA9A"}},card:{backgroundColor:e.palette.background.paper,marginTop:e.spacing(8),padding:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",borderRadius:e.shape.borderRadius}}}));var H=function(e){var t=e.setAuth,a=Object(h.a)(e,["setAuth"]),n=r.a.useState({name_first:"",name_last:"",email:"",password:""}),s=Object(l.a)(n,2),i=s[0],o=s[1],c=function(e){return function(t){o(Object(m.a)({},i,Object(u.a)({},e,t.target.value)))}},d=_(),f=Object(v.a)({palette:{primary:w.a}});return r.a.createElement(b.a,{component:"main",maxWidth:"sm"},r.a.createElement(g.a,{boxShadow:3,className:d.card},r.a.createElement(y.a,{style:{backgroundColor:"black"}},r.a.createElement(I.a,{style:{fontSize:30}})),r.a.createElement(E.a,{component:"h1",variant:"h5"},"Register"),r.a.createElement("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),i.email&&i.password&&(console.log("values:",Object(m.a)({},i)),p.a.post("/auth/register",Object(m.a)({},i)).then((function(e){console.log(e);var n=e.data;t(n.token,n.u_id),a.history.push("/")})).catch((function(e){console.log("error register",e)})))}},r.a.createElement(k.a,{theme:f},r.a.createElement(T.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name_first",label:"Firt name",name:"name_first",type:"text",autoFocus:!0,value:i.name_first,onChange:c("name_first")}),r.a.createElement(T.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name_last",label:"Last name",name:"name_first",type:"text",value:i.name_last,onChange:c("name_last")}),r.a.createElement(T.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",type:"email",value:i.email,onChange:c("email")}),r.a.createElement(T.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"password",label:"Password",name:"password",type:"password",value:i.password,onChange:c("password")}),r.a.createElement(O.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",style:{backgroundColor:"#00b36e"}},"Sign Up")),r.a.createElement(j.a,{container:!0},r.a.createElement(j.a,{item:!0},r.a.createElement("br",null),r.a.createElement(C.a,{href:"/login",variant:"body1",style:{color:"#00b36e"}},"Already have an account? Login"))))))},D=a(119),U=a.n(D),F=Object(f.a)((function(e){return{"@global":{body:{backgroundColor:"#00FA9A"}},card:{backgroundColor:e.palette.background.paper,marginTop:e.spacing(8),padding:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",borderRadius:e.shape.borderRadius},textfield:{}}}));var W=function(e){var t=e.setAuth,a=Object(h.a)(e,["setAuth"]),n=F(),s=Object(v.a)({palette:{primary:w.a}});return r.a.createElement(b.a,{component:"main",maxWidth:"sm"},r.a.createElement(g.a,{boxShadow:3,className:n.card},r.a.createElement(y.a,{style:{backgroundColor:"black"}},r.a.createElement(U.a,null)),r.a.createElement(E.a,{component:"h1",variant:"h5"},"Login"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n=e.target[0].value,r=e.target[2].value;n&&r&&p.a.post("/auth/login",{email:n,password:r}).then((function(e){console.log("response:",e);var n=e.data;t(n.token,n.u_id),a.history.push("/")})).catch((function(e){console.log(e)}))}},r.a.createElement(k.a,{theme:s},r.a.createElement(T.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",type:"text",autoFocus:!0}),r.a.createElement(T.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(O.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",style:{backgroundColor:"#00b36e"}},"Sign In")),r.a.createElement(j.a,{container:!0,direction:"column",alignItems:"center"},r.a.createElement(j.a,{item:!0},r.a.createElement("br",null),r.a.createElement(C.a,{href:"/register",variant:"body1",style:{color:"#00b36e"}},"Don't have an account? Register")),r.a.createElement(j.a,{item:!0},r.a.createElement("br",null),r.a.createElement(C.a,{href:"/forgot_password",variant:"body1",style:{color:"#00b36e"}},"Forgot password?"))))))},q=r.a.createContext(),L=q.Provider,P=(q.Consumer,q);var R=function(e){var t=r.a.useContext(P);return console.log("token:",t),t?r.a.createElement(c.b,e):r.a.createElement(c.a,{to:"/login"})},M=a(20),B=a(21),K=a(23),z=a(22),J=a(24);var G={alignItems:"center",overflow:"hidden",background:"rgb(3, 219, 136)",color:"white",textAlign:"center",padding:"10px",fontFamily:"consolas"},V=function(){return r.a.createElement("div",{className:"header"},r.a.createElement("header",{style:G},r.a.createElement("h1",null," Productivity app"),r.a.createElement("p",null,"A convenient way to measure your time")))},Z=a(13),Q=a(123),X=a.n(Q),Y=a(124),$=a.n(Y),ee=a(122),te=a.n(ee),ae=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(K.a)(this,Object(z.a)(t).call(this,e))).getStyle=function(e){return{textDecoration:e.completed?"line-through":"none"}},a.createTasks=a.createTasks.bind(Object(Z.a)(a)),a}return Object(J.a)(t,e),Object(B.a)(t,[{key:"createTasks",value:function(e){var t=this;return r.a.createElement("li",{style:this.getStyle(e)},e.text,r.a.createElement("span",null,r.a.createElement(te.a,{onClick:function(){return t.completed(e.key)},key:e.key}),r.a.createElement(X.a,{onClick:function(){return t.rename(e.key)},key:e.key+1}),r.a.createElement($.a,{onClick:function(){return t.delete(e.key)},key:e.key+2})))}},{key:"delete",value:function(e){this.props.delete(e)}},{key:"rename",value:function(e){this.props.edit(e)}},{key:"completed",value:function(e){this.props.completed(e)}},{key:"render",value:function(){var e=this.props.entries.map(this.createTasks);return r.a.createElement("ul",{className:"theList"},e)}}]),t}(n.Component),ne=(a(169),a(170),a(81)),re=a.n(ne),se=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(K.a)(this,Object(z.a)(t).call(this,e))).state={hours:1,minutes:0,seconds:0,TotalHours:0},a.changeTimer=a.changeTimer.bind(Object(Z.a)(a)),a.UpdateTimeHours=a.UpdateTimeHours.bind(Object(Z.a)(a)),a.UpdateTimeMinutes=a.UpdateTimeMinutes.bind(Object(Z.a)(a)),a.UpdateTimeSeconds=a.UpdateTimeSeconds.bind(Object(Z.a)(a)),a._inputHours=null,a._inputMinutes=null,a._inputSeconds=null,a}return Object(J.a)(t,e),Object(B.a)(t,[{key:"transformTime",value:function(){var e=this.state,t=e.hours,a=e.minutes,n=e.seconds;if(n>60||a>60){for(;n>60||a>60;)n>60&&(n-=60,a+=1),a>60&&(a-=60,t+=1);this.setState({hours:t,minutes:a,seconds:n})}}},{key:"checkTimer",value:function(){return this.props.starter}},{key:"getHours",value:function(e,t,a){return console.log("Starth:",e,"min:",t,"sec:",a),e+=t/60+a/60/60,console.log("h:",e,"min:",t,"sec:",a),e}},{key:"componentDidUpdate",value:function(e){var t=this;if(e.starter!==this.props.starter&&!0===this.checkTimer()){var a=this.state,n=a.hours,r=a.minutes,s=a.seconds,i=this.getHours(n,r,s);this.setState({TotalHours:i}),this.myInterval=setInterval((function(){var e=t.state,a=e.hours,n=e.minutes;e.seconds>0?t.setState((function(e){return{seconds:e.seconds-1}})):0===n?0===a?(clearInterval(t.myInterval),t.setState({hours:1,minutes:0,seconds:0}),t.props.addHours(t.state.TotalHours,t.props.current),t.changeTimer()):t.setState((function(e){return{minutes:59,seconds:59,hours:e.hours-1}})):t.setState((function(e){return{minutes:e.minutes-1,seconds:59}}))}),1e3)}}},{key:"componentWillUnmount",value:function(){clearInterval(this.myInterval)}},{key:"UpdateTimeHours",value:function(e){""===e.target.value||isNaN(e.target.value)||(this.setState({hours:parseInt(e.target.value)}),this.transformTime())}},{key:"UpdateTimeMinutes",value:function(e){console.log("e:",e.target.value),""===e.target.value||isNaN(e.target.value)||(this.setState({minutes:parseInt(e.target.value)}),this.transformTime())}},{key:"UpdateTimeSeconds",value:function(e){""===e.target.value||isNaN(e.target.value)||(this.setState({seconds:parseInt(e.target.value)}),this.transformTime())}},{key:"changeTimer",value:function(){this.props.changeTimer()}},{key:"timeFormat",value:function(e){return e<10&&(e="0"+e),e}},{key:"cancelItemCountdown",value:function(){this.changeTimer()}},{key:"render",value:function(){var e=this.timeFormat(this.state.hours),t=this.timeFormat(this.state.minutes),a=this.timeFormat(this.state.seconds);return!1===this.checkTimer()?r.a.createElement("div",{className:"timer-editor"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",{className:"text-timer"},r.a.createElement("th",null,"Hours"),r.a.createElement("th",null,"Minutes"),r.a.createElement("th",null,"Seconds"))),r.a.createElement("tbody",null,r.a.createElement("tr",{className:"input-timer"},r.a.createElement("td",null,r.a.createElement("input",{placeholder:e,onChange:this.UpdateTimeHours})),r.a.createElement("td",null,r.a.createElement("input",{placeholder:t,onChange:this.UpdateTimeMinutes})),r.a.createElement("td",null,r.a.createElement("input",{placeholder:a,onChange:this.UpdateTimeSeconds})),r.a.createElement("td",null,r.a.createElement(re.a,null)))))):r.a.createElement("div",{className:"timer-countdown"},r.a.createElement("p",{className:"timer-countdown-text"},e+":"+t+":"+a," ",r.a.createElement(re.a,null),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.cancelItemCountdown},r.a.createElement("button",{type:"submit",className:"cancel-button"},"Cancel")))))}}]),t}(n.Component),ie=a(125),le=function(e){function t(){return Object(M.a)(this,t),Object(K.a)(this,Object(z.a)(t).apply(this,arguments))}return Object(J.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"BarChart"},r.a.createElement(ie.a,{data:{labels:this.props.ChartData.labels,datasets:[{label:"Total Hours",data:this.props.ChartData.data,backgroundColor:"#ccffcc"}]},width:50,height:30,options:{legend:{display:!0,labelString:"Hours Today"},scales:{yAxes:[{ticks:{beginAtZero:!0,stepSize:1}}]}}}))}}]),t}(n.Component),oe=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(K.a)(this,Object(z.a)(t).call(this,e))).state={items:[],search:[],startTimer:!1,taskId:1,currentKey:0},a.addItem=a.addItem.bind(Object(Z.a)(a)),a.deleteItem=a.deleteItem.bind(Object(Z.a)(a)),a.renameItem=a.renameItem.bind(Object(Z.a)(a)),a.searchItem=a.searchItem.bind(Object(Z.a)(a)),a.markCompleted=a.markCompleted.bind(Object(Z.a)(a)),a.changeTimer=a.changeTimer.bind(Object(Z.a)(a)),a}return Object(J.a)(t,e),Object(B.a)(t,[{key:"changeTimer",value:function(){this.setState({startTimer:!this.state.startTimer}),console.log("timer is now: ",this.state.startTimer)}},{key:"addItem",value:function(e){if(""!==this._inputElement){var t=this.state.taskId,a=Date.now(),n={text:this._inputElement.value,key:a,completed:!1,hours:0,TaskId:"T"+t};if(""!==n.text&&!1===this.state.startTimer){var r=this.state.search;this.isSearchEmpty(this.state.search)||(r=r.concat(n)),this.setState((function(e){return{items:e.items.concat(n),search:r,taskId:t+=1,currentKey:a}})),this.changeTimer()}this._inputElement.value="",e.preventDefault()}}},{key:"deleteItem",value:function(e){if(!1===this.state.startTimer){var t=function(t){return t.key!==e},a=this.state.items.filter(t),n=this.state.search;this.isSearchEmpty(this.state.search)||(n=this.state.search.filter(t)),this.setState({items:a,search:n})}}},{key:"cancelClock",value:function(e){function t(t){return t.key!==e}var a=this.state.items.filter(t),n=this.state.search;this.isSearchEmpty(this.state.search)||(n=this.state.search.filter(t)),this.setState({items:a,search:n})}},{key:"renameItem",value:function(e){var t=prompt("Rename to do task");var a=this.state.items;a.map((function(a){if(a.key===e)return a.text=t})),this.setState({items:a})}},{key:"markCompleted",value:function(e){var t=this.state.items;t.map((function(t){if(t.key===e)return t.completed=!t.completed})),this.setState({items:t})}},{key:"isSearchEmpty",value:function(e){return!Array.isArray(e)||!e.length}},{key:"searchItem",value:function(e){var t=[],a=this.state.search;if(""!==e.target.value){this.isSearchEmpty(this.state.search)&&(a=this.state.items),t=a.filter((function(t){return t.text.toLowerCase().includes(e.target.value)}))}else{var n=this.state.search;t=Array.isArray(n)&&n.length?this.state.search:this.state.items,a=[]}this.setState({items:t,search:a})}},{key:"AddTaskHours",value:function(e,t){var a=this.state.items;a.map((function(a){a.key===t&&(a.hours+=e)})),this.setState({items:a})}},{key:"getCharData",value:function(){var e,t,a=this.state.items;if(a.length>0){e=new Array(a.length),t=new Array(a.length);for(var n=0;n<a.length;n++)e[n]=a[n].text,t[n]=a[n].hours}else e=new Array("Add tasks to start displaying your hours!"),t=[0];return{labels:e,data:t}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"todoListMain"},r.a.createElement(se,{starter:this.state.startTimer,changeTimer:function(){return e.changeTimer()},addHours:function(t,a){return e.AddTaskHours(t,a)},current:this.state.currentKey,cancelItem:this.cancelClock}),r.a.createElement("div",{className:"graph-type"},r.a.createElement("form",null,r.a.createElement("legend",null,"Graph type"),r.a.createElement("p",null,r.a.createElement("select",{id:"myList",className:"dropdown-selector"},r.a.createElement("option",{value:"bar"},"Bar Chart"),r.a.createElement("option",{value:"line"},"Line Chart"),r.a.createElement("option",{value:"pie"},"Pie Chart"))))),r.a.createElement("div",{className:"input-box-todo"},r.a.createElement("form",{onSubmit:this.addItem},r.a.createElement("input",{ref:function(t){return e._inputElement=t},placeholder:"enter to do ..."}),r.a.createElement("button",{type:"submit"}," Add "))),r.a.createElement("div",{className:"input-box-search"},r.a.createElement("input",{placeholder:"task to search ..",onChange:this.searchItem})),r.a.createElement(le,{ChartData:this.getCharData(),AllData:this.state.items}),r.a.createElement(ae,{entries:this.state.items,delete:this.deleteItem,edit:this.renameItem,completed:this.markCompleted}))}}]),t}(n.Component),ce=function(e){function t(){return Object(M.a)(this,t),Object(K.a)(this,Object(z.a)(t).apply(this,arguments))}return Object(J.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(V,null),r.a.createElement(oe,null))}}]),t}(r.a.Component);var ue=function(){var e=r.a.useState(localStorage.getItem("token")),t=Object(l.a)(e,2),a=t[0],n=t[1];function s(e,t){localStorage.setItem("token",e),localStorage.setItem("u_id",t),n(e)}return r.a.createElement(L,{value:a},r.a.createElement(o.a,null,r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/login",render:function(e){return r.a.createElement(W,Object.assign({},e,{setAuth:s}))}}),r.a.createElement(c.b,{exact:!0,path:"/register",render:function(e){return r.a.createElement(H,Object.assign({},e,{setAuth:s}))}}),r.a.createElement(R,{exact:!0,path:"/",component:ce}))))},me=document.querySelector("#root");i.a.render(r.a.createElement("div",null,r.a.createElement(ue,null)),me)}},[[135,1,2]]]);
//# sourceMappingURL=main.768e25d7.chunk.js.map